<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Flows on a Torus</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">
	</head>
	<body>
		<div class="square-map-container">
			<canvas id="square-map"></canvas>
			<i>Unit Square Map</i>
		</div>
		<!-- Control panel, changes dynamically with different options -->
        <div id = "control-panel" class="primary-panel">
			<span class="sub-panel-title">Display Settings</span>
			<div class="sub-panel">
				<input type="range" name="opacity" id="opacity" min="0" max="1" step="0.01" value="0.95">
				<label for="opacity">Torus Opacity</label>
			</div>
			<div class="sub-panel together">
				<button id="toggle-mesh">êÑ≥ Toggle Mesh</button>
				<button id="toggle-axes" >
					„Éø Toggle Axes
				</button>
			</div>
			
			<hr class="sub-div"/>
			<span class="sub-panel-title">Computation Settings</span>
			<div class="sub-panel">
				<input id="trajectory-distance" type="range" name="trajectory-distance" min="100" max="10000" step="10" value="5000">
				<label id="trajectory-distance-lab" class="info-label" title="The maximum number of points that are computed. Note that for periodic solutions, the system will stop well before this cutoff if it appears a cycle has closed." for="trajectory-distance">Distance (5000)</label>
			</div>
			<div class="sub-panel">
				<input id="trajectory-grain" type="range" name="trajectory-grain" min=".001" max=".1" step="0.001" value=".05">
				<label id="trajectory-grain-lab" class="info-label" title="Distance between points on a trajectory. Decrease this to increase accuracy; if you see a lot of clipping through the torus, consider lowering this." for="trajectory-grain">Grain (0.05)</label>
			</div>
			<div class="sub-panel">
				<input type="checkbox" name="show-points" id="show-points" checked/>
				<label for="show-points">Show Points</label>
			</div>
			<div class="sub-panel">
				<div class="ivp">
					<span>$\theta_0^a=$</span><input id="ivp-1" type="number" min="0" max="6.26" step="0.01" value="3.14">
					<span>$\theta_0^b=$</span><input id="ivp-2" type="number" min="0" max="6.26" step="0.01" value="3.14">
				</div>
				<span for="ivp">Initial</span>
			</div>
			<hr class="sub-div"/>
			<span class="sub-panel-title">Parameters</span>
			<!-- ! Knot controls -->
			<div class="knot-pp parameters-panel">
				<div class="sub-panel">
					<input class="knot-parameter" id="p" type="range" name="p" min="0" max="20" step="1" value="2">
					<label for="p" id="p-lab">p (2)</label>
				</div>
				<div class="sub-panel">
					<input class="knot-parameter" id="q" type="range" name="q" min="0" max="20" step="1" value="3">
					<label for="q" id="q-lab">q (3)</label>
				</div>
			</div>
			<!-- ! Quasi controls -->
			<div class="quasi-pp parameters-panel" style="display: none;">
				<div class="sub-panel">
					<select class="quasi-parameter" id="p" type="range" name="p" value="e">
						<option value="e">e</option>
						<option value="pi">pi</option>
					</select>
					<label for="p" id="p-lab">p (2)</label>
				</div>
				<div class="sub-panel">
					<input class="quasi-parameter" id="q" type="range" name="q" min="0" max="20" step="1" value="3">
					<label for="q" id="q-lab">q (3)</label>
				</div>
			</div>
			<hr class="sub-div"/>
			<button id="draw-trajectory">Í©ú Draw Trajectory</button>
		</div>
		<!-- Options panel -->
		<div id="options-panel" class="primary-panel">
			<p>
				$\begin{pmatrix}\dot{\theta}_a\\\dot{\theta}_b\end{pmatrix} = \begin{pmatrix} p\\ q \end{pmatrix}$
			</p>
			<div><select id="option-select" value="knot">
				<option value="knot">p:q ((p,q)-torus knot) dynamics</option>
				<option value="quasi">quasiperiodic (irrational slope) dynamics</option>
				<option value="coupled">coupled dynamics</option>
				<option value="forced">forced oscillator</option>
			</select>
			<label for="dynamics-option">System to plot</label>
			<!-- <object data="control.html">  -->
			<!-- </object> -->
			
		</div>
		</div>
        </div>
            <script type="module" src="/main.js"></script>
	</body>
	<script>
		MathJax = {
		  tex: {
			inlineMath: [['$', '$'], ['\\(', '\\)']]
		  }
		};
	</script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
	</script>
</html>